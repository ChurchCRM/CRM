box: php

build:
  steps:
    - install-packages:
        checkpoint: pkgs  
        packages: git npm node
    
    - script:
        name: setup composer
        code: |
          curl -sS https://getcomposer.org/installer | php
          sudo mv composer.phar /usr/local/bin/composer
          echo "composer version $(composer --version) running"
          
    - script:
        name: setup node/grunt information
        code: |
          sudo npm install -g grunt
          echo "npm version $(npm -v) running"
          echo "grunt version $(grunt --version) running"

    - script:
        name: UI install
        code: |
          npm install
          
    - script:
        name: Composer installs
        code: |
          cd src
          composer update
          
gen-changelog:
  steps:          
    - script:
      name: setup ruby gems information
      code: |
        sudo apt-get install -y ruby
        gem install multi_json github_changelog_generator          
