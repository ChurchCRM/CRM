box: php

build:
  steps:
    - script:
        name: update box
        code: |
          sudo apt-get update
    - script:
        name: setup composer
        code: |
          # Install Composer
          curl -sS https://getcomposer.org/installer | php
          sudo mv composer.phar /usr/local/bin/composer
          composer self-update
          echo "composer version $(composer --version) running"
    - script:
        name: echo node/grunt information
        code: |
          # Install JS tools
          #sudo apt-get install -y nodejs
          sudo apt-get install -y npm          
          sudo npm install -g grunt
          echo "node version $(node -v) running"
          echo "npm version $(npm -v) running"
          echo "grunt version $(grunt --version) running"
    - script:
        name: echo rubygems information
        code: |
          # Install Sass
          sudo apt-get install rubygems -y
          sudo gem install github_changelog_generator
    - script:
        name: run installs
        code: |
          npm install
          cd src
          composer update
    - script:
        name: Not used yet
        code: |
          # Install launchpad repositories
          #sudo add-apt-repository ppa:ondrej/php7 -y
          #sudo add-apt-repository ppa:chris-lea/node.js -y
          #sudo apt-get update -y
          # Install PHP
          #sudo apt-get install php7-cli php7-curl php7-dev php7-gd php7-intl php7-mcrypt php7-mysql -y
